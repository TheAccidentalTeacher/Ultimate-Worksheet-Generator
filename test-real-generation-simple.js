// Test the real worksheet generation system
import { WorksheetQualityTester } from './src/test/quality-test-suite';

async function testRealGeneration() {
  console.log('🚀 Testing Real Professional Worksheet Generation System');
  console.log('=' .repeat(60));
  
  const tester = new WorksheetQualityTester();
  
  const testCase = {
    grade: '5th',
    subject: 'Science',
    topic: 'Solar System and Space Exploration',
    worksheetStyle: 'engaging',
    christianContent: '1',
    scaffolding: 'standard',
    differentiation: 'visual-learner',
    timeEstimate: '30 minutes',
    numProblems: 4
  };
  
  try {
    console.log('\n📋 Testing Real Worksheet Generation...');
    const result = await tester.testWorksheetQuality(testCase);
    
    console.log('\n✅ GENERATION COMPLETE!');
    console.log('📊 Quality Score:', result.metrics.overall + '/10');
    console.log('🎯 Used Real APIs:', result.realContent ? 'YES - Live Generation!' : 'NO - Analysis Only');
    console.log('🔧 Primary API:', result.apiStrategy.primary);
    console.log('🎨 Visual API:', result.apiStrategy.visual || 'None');
    console.log('📚 Research API:', result.apiStrategy.research || 'None');
    
    if (result.worksheet.title) {
      console.log('\n📋 GENERATED CONTENT:');
      console.log('Title:', result.worksheet.title);
      console.log('Problems:', result.worksheet.problems?.length || 0);
      console.log('Generated by:', result.worksheet.generatedBy || 'Unknown');
    }
    
    if (result.error) {
      console.log('\n⚠️  Error encountered:', result.error);
    }
    
  } catch (error) {
    console.error('\n❌ Test failed:', error);
  }
}

testRealGeneration();
